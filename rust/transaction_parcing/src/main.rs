use transaction_parcing::*;

fn main() {
//    let input_data = "530102d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27da40403008eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a480700e8764817b501b8003200000005000000e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e";

    let input_data = "530102d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d550210020c060000d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d0700b864d9450006050800aebb0211dbb07b4d335a657257b8ac5e53794c901e4f616d4a254f2490c43934009ae581fef1fc06828723715731adcf810e42ce4dadad629b1b7fa5c3c144a81d0608008eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a48f501b4003200000005000000e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e314e9f9aef4e836a54bdd109aba380106e05e2ea83fbc490206b476840cd68e3e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e";
    
//    let input_data = "5301025a4a03f84a19cf8ebda40e62358c592870691a9cf456138bb4829969d10fe96910000104114501440026040000b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe345f53c073281fc382d20758aee06ceae3014fd53df734d3e94d54642a56dd51b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe";
    
//    let input_data = "5301025a4a03f84a19cf8ebda40e62358c592870691a9cf456138bb4829969d10fe969a40403005a4a03f84a19cf8ebda40e62358c592870691a9cf456138bb4829969d10fe9690700e40b5402c5005c00ec07000004000000b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafebcd1b489599db4424ed928804ddad3a4689fb8c835151ef34bc250bb845cdc1eb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe";
    
//    let input_data = "5301028a476a30a7fd07657fa2e3648ec74b76aea0e9c032772ed108b78924539ce61f10000104112501000026040000b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe3ca87fad296dc36e2070c536142e2e9a74fe221f0b9dbce0e9f85921bd0c5e77b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe";
    
    let datafiles = DataFiles {
        gen_hash_filename: "database_output",
        metadata_filename: "networkMetadata.ts",
        types_description_filename: "new_full_types",
    };
    
    match full_run (input_data, datafiles) {
        Ok(a) => {
            println!("Format to import into js:");
            println!("{}", a.js);
            println!("Normal format:");
            println!("{}", a.normal);
        },
        Err(e) => println!("Error. {}", e),
    }
}
